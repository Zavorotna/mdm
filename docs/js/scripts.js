fetch("products.json").then((e=>e.json())).then((e=>{const t=document.querySelector(".catalog_container");Object.values(e).forEach((function(e){const r=document.createElement("figure"),n=document.createElement("figcaption");r.classList.add("card");const o=document.createElement("img"),c=document.createElement("picture"),l=document.createElement("h2"),a=document.createElement("p");a.classList.add("price"),c.appendChild(o),o.src=e.img,o.alt=e.head,o.setAttribute("loading","lazy"),l.textContent=e.head,a.textContent=e.price;const i=document.createElement("div"),d=document.createElement("div");d.classList.add("color"),d.classList.add("flex"),i.classList.add("flex-between"),i.classList.add("items-center"),e.color&&"object"==typeof e.color&&Object.keys(e.color).length>0&&Object.entries(e.color).forEach((([t,r],n)=>{const o=document.createElement("label"),c=document.createElement("input"),l=document.createElement("span");c.type="radio",c.name=`color-${e.id}`,c.value=t,c.setAttribute("data-color-name",r),0===n&&(c.checked=!0),c.style.backgroundColor=t,o.appendChild(c),"#fff"===t&&o.appendChild(l),d.appendChild(o)})),r.appendChild(n),n.appendChild(c),n.appendChild(l),n.appendChild(a);const s=document.createElement("div");if(s.classList.add("size"),Array.isArray(e.size)&&e.size.length>0){const t=document.createElement("label"),r=document.createElement("select");e.size.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,r.appendChild(t)})),s.appendChild(t),t.appendChild(r)}n.appendChild(s);const u=document.createElement("button");document.createElement("span"),u.innerHTML='\n                    <span>в кошик</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="13rem" height="16rem" viewBox="0 0 13 16" fill="none">\n                        <path d="M4.14821 4.11111H3.21837C2.36083 4.11111 1.64909 4.74181 1.588 5.55584L1.00424 13.3336C0.936654 14.2341 1.68602 15 2.63461 15H10.5654C11.514 15 12.2633 14.2341 12.1958 13.3336L11.612 5.55584C11.5509 4.74181 10.8392 4.11111 9.98163 4.11111H9.05178M4.14821 4.11111V2.55556C4.14821 1.69645 4.88002 1 5.78274 1H7.41726C8.31998 1 9.05178 1.69645 9.05178 2.55556V4.11111M4.14821 4.11111H9.05178" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>',u.classList.add("flex"),u.addEventListener("click",(()=>{const t=r.querySelector(`input[name='color-${e.id}']:checked`),n=r.querySelector("select");let o=t?t.value:null,c=t?t.getAttribute("data-color-name"):null,l=n?n.value:null;const a={id:e.id,img:e.img,alt:e.head,head:e.head,price:e.price,color:o,colorName:c,size:l};localStorage.setItem("cart",JSON.stringify([a])),openCart()})),n.appendChild(i),i.appendChild(d),i.appendChild(u),t.appendChild(r)}))})).catch((e=>console.error("Помилка завантаження JSON:",e)));const cartPopup=document.querySelector(".cart_popup"),darkBg=document.querySelector(".dark-bgc"),cartContainer=document.querySelector(".order_container"),errorCart=document.querySelector(".error_cart");function openCart(){cartPopup.style.display="block",darkBg.style.display="block";const e=JSON.parse(localStorage.getItem("cart"));if(console.log(e),document.querySelector("#cartData").value=JSON.stringify(e),Array.isArray(e)&&e.length>0){cartContainer.style.display="grid",errorCart.style.display="none";const t=e[0],r=cartPopup.querySelector(".cart_img img"),n=cartPopup.querySelector(".title_cart"),o=cartPopup.querySelector(".color_text"),c=cartPopup.querySelector(".color_circle"),l=cartPopup.querySelector(".size"),a=cartPopup.querySelector(".price");r.src=t.img,r.alt=t.head,n.innerText=t.head,o.innerText=t.colorName,null!=t.color&&(c.style.backgroundColor=`${t.color}`),null!=t.size&&(l.innerText=`Розмір: ${t.size}`),a.innerText=t.price}else errorCart.style.display="flex"}document.querySelector("#orderWebsiteURL").value=window.location,document.querySelector("#orderWebsiteURL1").value=window.location,document.querySelector("#orderWebsiteURL2").value=window.location;const cartBtn=document.querySelector(".cart"),deleteCta=document.querySelector(".delete_cta"),cancelCart=document.querySelector(".cancel_cart");cartBtn.addEventListener("click",(function(e){e.preventDefault(),openCart()})),cancelCart.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),darkBg.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),deleteCta.addEventListener("click",(function(e){e.preventDefault(),localStorage.removeItem("cart"),errorCart.style.display="flex",cartContainer.style.display="none"}));const inputField=document.querySelectorAll("name"),maxLength=30,minLength=3,phoneInput=document.querySelectorAll(".phoneInput"),errorName=document.querySelectorAll(".error-name"),errorTel=document.querySelectorAll(".error-tel");function validateForm(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!isValidPhoneNumber(t)||t.length<13)return errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})),!1;const r=e.querySelectorAll("input[name='userName']");for(const e of r){const t=e.value.trim();if(t.length<3)return errorName.forEach((e=>{e.innerText="Мінімальна кількість символів для імені: 3"})),!1;if(t.length>30)return errorName.forEach((e=>{e.innerText="Максимальна кількість символів для імені: 30"})),!1}return!0}function isValidPhoneNumber(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}phoneInput.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const r="+380";t.startsWith(r)||(t=r+t);let n=t.replace(/[^\d+]/g,"");n.length>13&&(n=n.slice(0,13));isValidPhoneNumber(n)&&13===n.length?(e.style.borderColor="green",e.style.color="#121212",errorTel.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#EB4242",e.style.color="#EB4242",errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{validateForm(e)||(t.preventDefault(),console.log("+"))}))}));const inputMasks=document.querySelectorAll(".inputMask");inputMasks.forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));
document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".dark-bgc"),t=document.querySelector(".dark-bgc-succes"),n=document.querySelector(".privacy_container"),l=document.querySelector(".privacyPolice"),i=document.querySelector(".cancel_popup"),c=(document.querySelectorAll("form"),document.querySelector("#successPopup")),o=document.querySelector(".cart_popup");l.addEventListener("click",(function(t){t.preventDefault(),n.style.display="block",e.style.display="block"})),i.addEventListener("click",(function(l){l.preventDefault(),n.style.display="none",c.style.display="none",e.style.display="none",t.style.display="none"}));const s=document.querySelector(".content-slider");if(document.querySelector(".content-slider h3")){let b=[...document.querySelectorAll(".content-slider h3")],q=b[0].offsetWidth,h=!1;function r(){for(;s.firstChild;)s.removeChild(s.firstChild);for(let e=0;e<b.length;e++){const t=b[e].cloneNode(!0);s.appendChild(t)}}r(),function(){let e=0;setInterval((()=>{h||(h=!0,e-=1,s.style.transition="none",s.style.transform=`translateX(${e}px)`,Math.abs(e)>=q+30&&(e=0,r()),h=!1)}),20)}(),window.addEventListener("resize",(()=>{r()}))}if(document.querySelector(".slider-images-1")&&document.querySelector(".slider-images-2")){const k=document.querySelectorAll(".slider-images-1 img"),A=document.querySelectorAll(".slider-images-2 img");let _=0,D=0;k.length>0&&k[0].classList.add("active"),A.length>0&&A[0].classList.add("active"),setInterval((()=>{k.length>0&&(k[_].classList.remove("active"),_=(_+1)%k.length,k[_].classList.add("active")),A.length>0&&(A[D].classList.remove("active"),D=(D+1)%A.length,A[D].classList.add("active"))}),3e3)}if(document.querySelector(".burger")){const I=document.querySelector(".burger"),C=document.querySelector(".nav"),w=document.querySelector(".cancel"),x=C.querySelectorAll("a");function a(){C.style.left="-100%",e.style.display="none",n.style.display="none"}I.addEventListener("click",(function(){C.style.left="0",e.style.display="block"})),x.forEach((e=>{e.addEventListener("click",a)})),w.addEventListener("click",(function(e){e.preventDefault(),a()})),e.addEventListener("click",a)}!function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(l){l.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const d=document.querySelectorAll(".nav a "),u=document.querySelectorAll(".description-more"),y=document.querySelectorAll(".menu_footer a");let p=null;function m(){u.forEach((e=>e.classList.remove("visible")))}function v(){d.forEach((e=>e.classList.remove("visible")))}function v(){y.forEach((e=>e.classList.remove("visible")))}d.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");m(),v();const l=document.getElementById(n);l&&(p&&p.previousElementSibling&&p.previousElementSibling.classList.remove("readmore-active"),l.classList.add("visible"),l.previousElementSibling&&l.previousElementSibling.classList.add("readmore-active"),p=l)}))})),y.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");m(),v();const l=document.getElementById(n);l&&(p&&p.previousElementSibling&&p.previousElementSibling.classList.remove("readmore-active"),l.classList.add("visible"),l.previousElementSibling&&l.previousElementSibling.classList.add("readmore-active"),p=l)}))})),m(),v();const f=document.querySelectorAll(".spivpracia_btn"),E=document.querySelector(".spivpracia_popup"),S=document.querySelector(".cancel_spivpracia"),g=document.querySelector(".dark-bgc");function L(e){e.preventDefault(),E.style.display="none",c.style.display="none",g.style.display="none",t.style.display="none"}if(f.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),E.style.display="block",g.style.display="block"}))})),S.addEventListener("click",L),g.addEventListener("click",L),t.addEventListener("click",L),console.log("+"),c.style.transition="opacity 0.5s ease",c.style.opacity="0",c.style.zIndex="-1",t.style.transition="opacity 0.5s ease",t.style.opacity="0",document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((n=>{n.addEventListener("submit",(l=>{if(validateForm(n)){function i(){c.style.opacity="0",c.style.visibility="hidden",t.style.opacity="0",setTimeout((()=>{t.style.display="none",c.style.display="none"}),500)}E.style.display="none",o.style.display="none",c.style.display="block",c.style.zIndex="10",e.style.display="none",t.style.display="block",setTimeout((()=>{c.style.opacity="1",c.style.visibility="visible",t.style.opacity="1"}),10),t.addEventListener("click",i);c.querySelector(".successPopup .cancel_popup").addEventListener("click",i)}}))})),document.querySelector("video")&&window.innerWidth<1024){const z=document.querySelectorAll("video");document.addEventListener("click",(function e(){z.forEach((e=>{e.play()})),document.removeEventListener("click",e)}))}}));