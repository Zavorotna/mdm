fetch("products.json").then((e=>e.json())).then((e=>{const t=document.querySelector(".catalog_container");Object.values(e).forEach((function(e){const r=document.createElement("figure"),n=document.createElement("figcaption");r.classList.add("card");const o=document.createElement("img"),c=document.createElement("picture"),l=document.createElement("h2"),a=document.createElement("p");a.classList.add("price"),c.appendChild(o),o.src=e.img,o.alt=e.head,o.setAttribute("loading","lazy"),l.textContent=e.head,a.textContent=e.price;const i=document.createElement("div"),d=document.createElement("div");d.classList.add("color"),d.classList.add("flex"),i.classList.add("flex-between"),i.classList.add("items-center"),e.color&&"object"==typeof e.color&&Object.keys(e.color).length>0&&Object.entries(e.color).forEach((([t,r],n)=>{const o=document.createElement("label"),c=document.createElement("input"),l=document.createElement("span");c.type="radio",c.name=`color-${e.id}`,c.value=t,c.setAttribute("data-color-name",r),0===n&&(c.checked=!0),c.style.backgroundColor=t,o.appendChild(c),"#fff"===t&&o.appendChild(l),d.appendChild(o)})),r.appendChild(n),n.appendChild(c),n.appendChild(l),n.appendChild(a);const s=document.createElement("div");if(s.classList.add("size"),Array.isArray(e.size)&&e.size.length>0){const t=document.createElement("label"),r=document.createElement("select");e.size.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,r.appendChild(t)})),s.appendChild(t),t.appendChild(r)}n.appendChild(s);const u=document.createElement("button");document.createElement("span"),u.innerHTML='\n                    <span>в кошик</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="13rem" height="16rem" viewBox="0 0 13 16" fill="none">\n                        <path d="M4.14821 4.11111H3.21837C2.36083 4.11111 1.64909 4.74181 1.588 5.55584L1.00424 13.3336C0.936654 14.2341 1.68602 15 2.63461 15H10.5654C11.514 15 12.2633 14.2341 12.1958 13.3336L11.612 5.55584C11.5509 4.74181 10.8392 4.11111 9.98163 4.11111H9.05178M4.14821 4.11111V2.55556C4.14821 1.69645 4.88002 1 5.78274 1H7.41726C8.31998 1 9.05178 1.69645 9.05178 2.55556V4.11111M4.14821 4.11111H9.05178" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>',u.classList.add("flex"),u.addEventListener("click",(()=>{const t=r.querySelector(`input[name='color-${e.id}']:checked`),n=r.querySelector("select");let o=t?t.value:null,c=t?t.getAttribute("data-color-name"):null,l=n?n.value:null;const a={id:e.id,img:e.img,alt:e.head,head:e.head,price:e.price,color:o,colorName:c,size:l};localStorage.setItem("cart",JSON.stringify([a])),openCart()})),n.appendChild(i),i.appendChild(d),i.appendChild(u),t.appendChild(r)}))})).catch((e=>console.error("Помилка завантаження JSON:",e)));const cartPopup=document.querySelector(".cart_popup"),darkBg=document.querySelector(".dark-bgc"),cartContainer=document.querySelector(".order_container"),errorCart=document.querySelector(".error_cart");function openCart(){cartPopup.style.display="block",darkBg.style.display="block";const e=JSON.parse(localStorage.getItem("cart"));if(console.log(e),document.querySelector("#cartData").value=JSON.stringify(e),Array.isArray(e)&&e.length>0){cartContainer.style.display="grid",errorCart.style.display="none";const t=e[0],r=cartPopup.querySelector(".cart_img img"),n=cartPopup.querySelector(".title_cart"),o=cartPopup.querySelector(".color_text"),c=cartPopup.querySelector(".color_circle"),l=cartPopup.querySelector(".size"),a=cartPopup.querySelector(".price");r.src=t.img,r.alt=t.head,n.innerText=t.head,o.innerText=t.colorName,null!=t.color&&(c.style.backgroundColor=`${t.color}`),null!=t.size&&(l.innerText=`Розмір: ${t.size}`),a.innerText=t.price}else errorCart.style.display="flex"}document.querySelector("#orderWebsiteURL").value=window.location,document.querySelector("#orderWebsiteURL1").value=window.location,document.querySelector("#orderWebsiteURL2").value=window.location;const cartBtn=document.querySelector(".cart"),deleteCta=document.querySelector(".delete_cta"),cancelCart=document.querySelector(".cancel_cart");cartBtn.addEventListener("click",(function(e){e.preventDefault(),openCart()})),cancelCart.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),darkBg.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),deleteCta.addEventListener("click",(function(e){e.preventDefault(),localStorage.removeItem("cart"),errorCart.style.display="flex",cartContainer.style.display="none"}));const inputField=document.querySelectorAll("name"),maxLength=30,minLength=3,phoneInput=document.querySelectorAll(".phoneInput"),errorName=document.querySelectorAll(".error-name"),errorTel=document.querySelectorAll(".error-tel");function validateForm(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!isValidPhoneNumber(t)||t.length<13)return errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})),!1;const r=e.querySelectorAll("input[name='userName']");for(const e of r){const t=e.value.trim();if(t.length<3)return errorName.forEach((e=>{e.innerText="Мінімальна кількість символів для імені: 3"})),!1;if(t.length>30)return errorName.forEach((e=>{e.innerText="Максимальна кількість символів для імені: 30"})),!1}return!0}function isValidPhoneNumber(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}phoneInput.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const r="+380";t.startsWith(r)||(t=r+t);let n=t.replace(/[^\d+]/g,"");n.length>13&&(n=n.slice(0,13));isValidPhoneNumber(n)&&13===n.length?(e.style.borderColor="green",e.style.color="#121212",errorTel.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#EB4242",e.style.color="#EB4242",errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{validateForm(e)||t.preventDefault()}))}));const inputMasks=document.querySelectorAll(".inputMask");inputMasks.forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));
document.addEventListener("DOMContentLoaded",(function(){let e=document.querySelector(".dark-bgc");const t=document.querySelector(".privacy_container"),n=document.querySelector(".privacyPolice"),l=document.querySelector(".cancel_popup");n.addEventListener("click",(function(n){n.preventDefault(),t.style.display="block",e.style.display="block"})),l.addEventListener("click",(function(n){n.preventDefault(),t.style.display="none",e.style.display="none"}));const c=document.querySelector(".content-slider");if(document.querySelector(".content-slider h3")){let E=[...document.querySelectorAll(".content-slider h3")],S=E[0].offsetWidth,L=!1;function i(){for(;c.firstChild;)c.removeChild(c.firstChild);for(let e=0;e<E.length;e++){const t=E[e].cloneNode(!0);c.appendChild(t)}}i(),function(){let e=0;setInterval((()=>{L||(L=!0,e-=1,c.style.transition="none",c.style.transform=`translateX(${e}px)`,Math.abs(e)>=S+30&&(e=0,i()),L=!1)}),20)}(),window.addEventListener("resize",(()=>{i()}))}if(document.querySelector(".slider-images-1")&&document.querySelector(".slider-images-2")){const b=document.querySelectorAll(".slider-images-1 img"),q=document.querySelectorAll(".slider-images-2 img");let h=0,k=0;b.length>0&&b[0].classList.add("active"),q.length>0&&q[0].classList.add("active"),setInterval((()=>{b.length>0&&(b[h].classList.remove("active"),h=(h+1)%b.length,b[h].classList.add("active")),q.length>0&&(q[k].classList.remove("active"),k=(k+1)%q.length,q[k].classList.add("active"))}),3e3)}if(document.querySelector(".burger")){const A=document.querySelector(".dark-bgc"),D=document.querySelector(".burger"),_=document.querySelector(".nav"),C=document.querySelector(".cancel"),w=_.querySelectorAll("a");function o(){_.style.left="-100%",A.style.display="none",t.style.display="none"}D.addEventListener("click",(function(){_.style.left="0",A.style.display="block"})),w.forEach((e=>{e.addEventListener("click",o)})),C.addEventListener("click",(function(e){e.preventDefault(),o()})),A.addEventListener("click",o)}!function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(l){l.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const r=document.querySelectorAll(".nav a "),s=document.querySelectorAll(".description-more"),a=document.querySelectorAll(".menu_footer a");let d=null;function u(){s.forEach((e=>e.classList.remove("visible")))}function v(){r.forEach((e=>e.classList.remove("visible")))}function v(){a.forEach((e=>e.classList.remove("visible")))}r.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");u(),v();const l=document.getElementById(n);l&&(d&&d.previousElementSibling&&d.previousElementSibling.classList.remove("readmore-active"),l.classList.add("visible"),l.previousElementSibling&&l.previousElementSibling.classList.add("readmore-active"),d=l)}))})),a.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");u(),v();const l=document.getElementById(n);l&&(d&&d.previousElementSibling&&d.previousElementSibling.classList.remove("readmore-active"),l.classList.add("visible"),l.previousElementSibling&&l.previousElementSibling.classList.add("readmore-active"),d=l)}))})),u(),v();const m=document.querySelectorAll(".spivpracia_btn"),y=document.querySelector(".spivpracia_popup"),f=document.querySelector(".cancel_spivpracia"),p=document.querySelector(".dark-bgc");function g(e){e.preventDefault(),y.style.display="none",p.style.display="none"}if(m.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),y.style.display="block",p.style.display="block"}))})),f.addEventListener("click",g),p.addEventListener("click",g),document.querySelector("video")&&window.innerWidth<1024){const I=document.querySelectorAll("video");document.addEventListener("click",(function e(){I.forEach((e=>{e.play()})),document.removeEventListener("click",e)}))}}));