fetch("products.json").then((e=>e.json())).then((e=>{const t=document.querySelector(".catalog_container");Object.values(e).forEach((function(e){const r=document.createElement("figure"),n=document.createElement("figcaption");r.classList.add("card");const o=document.createElement("img"),c=document.createElement("picture"),l=document.createElement("h2"),a=document.createElement("p");a.classList.add("price"),c.appendChild(o),o.src=e.img,o.alt=e.head,o.setAttribute("loading","lazy"),l.textContent=e.head,a.textContent=e.price;const i=document.createElement("div"),d=document.createElement("div");d.classList.add("color"),d.classList.add("flex"),i.classList.add("flex-between"),i.classList.add("items-center"),e.color&&"object"==typeof e.color&&Object.keys(e.color).length>0&&Object.entries(e.color).forEach((([t,r],n)=>{const o=document.createElement("label"),c=document.createElement("input"),l=document.createElement("span");c.type="radio",c.name=`color-${e.id}`,c.value=t,c.setAttribute("data-color-name",r),0===n&&(c.checked=!0),c.style.backgroundColor=t,o.appendChild(c),"#fff"===t&&o.appendChild(l),d.appendChild(o)})),r.appendChild(n),n.appendChild(c),n.appendChild(l),n.appendChild(a);const s=document.createElement("div");if(s.classList.add("size"),Array.isArray(e.size)&&e.size.length>0){const t=document.createElement("label"),r=document.createElement("select");e.size.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,r.appendChild(t)})),s.appendChild(t),t.appendChild(r)}n.appendChild(s);const u=document.createElement("button");document.createElement("span"),u.innerHTML='\n                    <span>в кошик</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="13rem" height="16rem" viewBox="0 0 13 16" fill="none">\n                        <path d="M4.14821 4.11111H3.21837C2.36083 4.11111 1.64909 4.74181 1.588 5.55584L1.00424 13.3336C0.936654 14.2341 1.68602 15 2.63461 15H10.5654C11.514 15 12.2633 14.2341 12.1958 13.3336L11.612 5.55584C11.5509 4.74181 10.8392 4.11111 9.98163 4.11111H9.05178M4.14821 4.11111V2.55556C4.14821 1.69645 4.88002 1 5.78274 1H7.41726C8.31998 1 9.05178 1.69645 9.05178 2.55556V4.11111M4.14821 4.11111H9.05178" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>',u.classList.add("flex"),u.addEventListener("click",(()=>{const t=r.querySelector(`input[name='color-${e.id}']:checked`),n=r.querySelector("select");let o=t?t.value:null,c=t?t.getAttribute("data-color-name"):null,l=n?n.value:null;const a={id:e.id,img:e.img,alt:e.head,head:e.head,price:e.price,color:o,colorName:c,size:l};localStorage.setItem("cart",JSON.stringify([a])),openCart()})),n.appendChild(i),i.appendChild(d),i.appendChild(u),t.appendChild(r)}))})).catch((e=>console.error("Помилка завантаження JSON:",e)));const cartPopup=document.querySelector(".cart_popup"),darkBg=document.querySelector(".dark-bgc"),cartContainer=document.querySelector(".order_container"),errorCart=document.querySelector(".error_cart");function openCart(){cartPopup.style.display="block",darkBg.style.display="block";const e=JSON.parse(localStorage.getItem("cart"));if(console.log(e),document.querySelector("#cartData").value=JSON.stringify(e),Array.isArray(e)&&e.length>0){cartContainer.style.display="grid",errorCart.style.display="none";const t=e[0],r=cartPopup.querySelector(".cart_img img"),n=cartPopup.querySelector(".title_cart"),o=cartPopup.querySelector(".color_text"),c=cartPopup.querySelector(".color_circle"),l=cartPopup.querySelector(".size"),a=cartPopup.querySelector(".price");r.src=t.img,r.alt=t.head,n.innerText=t.head,o.innerText=t.colorName,null!=t.color&&(c.style.backgroundColor=`${t.color}`),null!=t.size&&(l.innerText=`Розмір: ${t.size}`),a.innerText=t.price}else errorCart.style.display="flex"}document.querySelector("#orderWebsiteURL").value=window.location,document.querySelector("#orderWebsiteURL1").value=window.location,document.querySelector("#orderWebsiteURL2").value=window.location;const cartBtn=document.querySelector(".cart"),deleteCta=document.querySelector(".delete_cta"),cancelCart=document.querySelector(".cancel_cart");cartBtn.addEventListener("click",(function(e){e.preventDefault(),openCart()})),cancelCart.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),darkBg.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),deleteCta.addEventListener("click",(function(e){e.preventDefault(),localStorage.removeItem("cart"),errorCart.style.display="flex",cartContainer.style.display="none"}));const inputField=document.querySelectorAll("name"),maxLength=30,minLength=3,phoneInput=document.querySelectorAll(".phoneInput"),errorName=document.querySelectorAll(".error-name"),errorTel=document.querySelectorAll(".error-tel");function validateForm(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!isValidPhoneNumber(t)||t.length<13)return errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})),!1;const r=e.querySelectorAll("input[name='userName']");for(const e of r){const t=e.value.trim();if(t.length<3)return errorName.forEach((e=>{e.innerText="Мінімальна кількість символів для імені: 3"})),!1;if(t.length>30)return errorName.forEach((e=>{e.innerText="Максимальна кількість символів для імені: 30"})),!1}return!0}function isValidPhoneNumber(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}phoneInput.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const r="+380";t.startsWith(r)||(t=r+t);let n=t.replace(/[^\d+]/g,"");n.length>13&&(n=n.slice(0,13));isValidPhoneNumber(n)&&13===n.length?(e.style.borderColor="green",e.style.color="#121212",errorTel.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#EB4242",e.style.color="#EB4242",errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{validateForm(e)||t.preventDefault()}))}));const inputMasks=document.querySelectorAll(".inputMask");inputMasks.forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));
document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".dark-bgc"),t=document.querySelector(".dark-bgc-succes"),l=document.querySelector(".privacy_container"),n=document.querySelector(".privacyPolice"),i=document.querySelector(".cancel_popup"),c=document.querySelectorAll("form"),s=document.querySelector("#successPopup"),o=document.querySelector(".cart_popup");n.addEventListener("click",(function(t){t.preventDefault(),l.style.display="block",e.style.display="block"})),i.addEventListener("click",(function(n){n.preventDefault(),l.style.display="none",s.style.display="none",e.style.display="none",t.style.display="none"}));const r=document.querySelector(".content-slider");if(document.querySelector(".content-slider h3")){let q=[...document.querySelectorAll(".content-slider h3")],h=q[0].offsetWidth,k=!1;function a(){for(;r.firstChild;)r.removeChild(r.firstChild);for(let e=0;e<q.length;e++){const t=q[e].cloneNode(!0);r.appendChild(t)}}a(),function(){let e=0;setInterval((()=>{k||(k=!0,e-=1,r.style.transition="none",r.style.transform=`translateX(${e}px)`,Math.abs(e)>=h+30&&(e=0,a()),k=!1)}),20)}(),window.addEventListener("resize",(()=>{a()}))}if(document.querySelector(".slider-images-1")&&document.querySelector(".slider-images-2")){const A=document.querySelectorAll(".slider-images-1 img"),D=document.querySelectorAll(".slider-images-2 img");let _=0,I=0;A.length>0&&A[0].classList.add("active"),D.length>0&&D[0].classList.add("active"),setInterval((()=>{A.length>0&&(A[_].classList.remove("active"),_=(_+1)%A.length,A[_].classList.add("active")),D.length>0&&(D[I].classList.remove("active"),I=(I+1)%D.length,D[I].classList.add("active"))}),3e3)}if(document.querySelector(".burger")){const C=document.querySelector(".burger"),w=document.querySelector(".nav"),x=document.querySelector(".cancel"),z=w.querySelectorAll("a");function d(){w.style.left="-100%",e.style.display="none",l.style.display="none"}C.addEventListener("click",(function(){w.style.left="0",e.style.display="block"})),z.forEach((e=>{e.addEventListener("click",d)})),x.addEventListener("click",(function(e){e.preventDefault(),d()})),e.addEventListener("click",d)}!function(e,t,l){e.forEach((e=>{e.addEventListener("click",(function(n){n.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(l)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const u=document.querySelectorAll(".nav a "),y=document.querySelectorAll(".description-more"),m=document.querySelectorAll(".menu_footer a");let v=null;function p(){y.forEach((e=>e.classList.remove("visible")))}function f(){u.forEach((e=>e.classList.remove("visible")))}function f(){m.forEach((e=>e.classList.remove("visible")))}u.forEach((e=>{e.addEventListener("click",(function(t){const l=e.getAttribute("data-target");p(),f();const n=document.getElementById(l);n&&(v&&v.previousElementSibling&&v.previousElementSibling.classList.remove("readmore-active"),n.classList.add("visible"),n.previousElementSibling&&n.previousElementSibling.classList.add("readmore-active"),v=n)}))})),m.forEach((e=>{e.addEventListener("click",(function(t){const l=e.getAttribute("data-target");p(),f();const n=document.getElementById(l);n&&(v&&v.previousElementSibling&&v.previousElementSibling.classList.remove("readmore-active"),n.classList.add("visible"),n.previousElementSibling&&n.previousElementSibling.classList.add("readmore-active"),v=n)}))})),p(),f();const E=document.querySelectorAll(".spivpracia_btn"),S=document.querySelector(".spivpracia_popup"),g=document.querySelector(".cancel_spivpracia"),b=document.querySelector(".dark-bgc");function L(e){e.preventDefault(),S.style.display="none",s.style.display="none",b.style.display="none",t.style.display="none"}if(E.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),S.style.display="block",b.style.display="block"}))})),g.addEventListener("click",L),b.addEventListener("click",L),t.addEventListener("click",L),s.style.transition="opacity 0.5s ease",s.style.opacity="0",s.style.zIndex="-1",t.style.transition="opacity 0.5s ease",t.style.opacity="0",c.forEach((l=>{l.addEventListener("submit",(function(n){n.preventDefault(),S.style.display="none",o.style.display="none",s.style.display="block",s.style.zIndex="10",e.style.display="none",t.style.display="block",setTimeout((()=>{s.style.opacity="1",s.style.visibility="visible",t.style.opacity="1"}),10),setTimeout((()=>{s.style.opacity="0",s.style.visibility="hidden",t.style.opacity="0",setTimeout((()=>{t.style.display="none",s.style.display="none"}),500),l.submit()}),4e3)}))})),document.querySelector("video")&&window.innerWidth<1024){const T=document.querySelectorAll("video");document.addEventListener("click",(function e(){T.forEach((e=>{e.play()})),document.removeEventListener("click",e)}))}}));