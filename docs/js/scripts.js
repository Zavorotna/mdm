fetch("products.json").then((e=>e.json())).then((e=>{const t=document.querySelector(".catalog_container");Object.values(e).forEach((function(e){const r=document.createElement("figure"),n=document.createElement("figcaption");r.classList.add("card");const o=document.createElement("img"),c=document.createElement("picture"),l=document.createElement("h2"),a=document.createElement("p");a.classList.add("price"),c.appendChild(o),o.src=e.img,o.alt=e.head,l.textContent=e.head,a.textContent=e.price;const i=document.createElement("div"),d=document.createElement("div");d.classList.add("color"),d.classList.add("flex"),i.classList.add("flex-between"),i.classList.add("items-center"),e.color&&"object"==typeof e.color&&Object.keys(e.color).length>0&&Object.entries(e.color).forEach((([t,r],n)=>{const o=document.createElement("label"),c=document.createElement("input"),l=document.createElement("span");c.type="radio",c.name=`color-${e.id}`,c.value=t,c.setAttribute("data-color-name",r),0===n&&(c.checked=!0),c.style.backgroundColor=t,o.appendChild(c),"#fff"===t&&o.appendChild(l),d.appendChild(o)})),r.appendChild(n),n.appendChild(c),n.appendChild(l),n.appendChild(a);const s=document.createElement("div");if(s.classList.add("size"),Array.isArray(e.size)&&e.size.length>0){const t=document.createElement("label"),r=document.createElement("select");e.size.forEach((e=>{const t=document.createElement("option");t.value=e,t.textContent=e,r.appendChild(t)})),s.appendChild(t),s.appendChild(r)}n.appendChild(s);const u=document.createElement("button");document.createElement("span"),u.innerHTML='\n                    <span>в кошик</span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="13rem" height="16rem" viewBox="0 0 13 16" fill="none">\n                        <path d="M4.14821 4.11111H3.21837C2.36083 4.11111 1.64909 4.74181 1.588 5.55584L1.00424 13.3336C0.936654 14.2341 1.68602 15 2.63461 15H10.5654C11.514 15 12.2633 14.2341 12.1958 13.3336L11.612 5.55584C11.5509 4.74181 10.8392 4.11111 9.98163 4.11111H9.05178M4.14821 4.11111V2.55556C4.14821 1.69645 4.88002 1 5.78274 1H7.41726C8.31998 1 9.05178 1.69645 9.05178 2.55556V4.11111M4.14821 4.11111H9.05178" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                    </svg>',u.classList.add("flex"),u.addEventListener("click",(()=>{const t=r.querySelector(`input[name='color-${e.id}']:checked`),n=r.querySelector("select");let o=t?t.value:null,c=t?t.getAttribute("data-color-name"):null,l=n?n.value:null;const a={id:e.id,img:e.img,alt:e.head,head:e.head,price:e.price,color:o,colorName:c,size:l};localStorage.setItem("cart",JSON.stringify([a])),openCart()})),n.appendChild(i),i.appendChild(d),i.appendChild(u),t.appendChild(r)}))})).catch((e=>console.error("Помилка завантаження JSON:",e)));const cartPopup=document.querySelector(".cart_popup"),darkBg=document.querySelector(".dark-bgc"),cartContainer=document.querySelector(".order_container"),errorCart=document.querySelector(".error_cart");function openCart(){cartPopup.style.display="block",darkBg.style.display="block";const e=JSON.parse(localStorage.getItem("cart"));if(console.log(e),document.querySelector("#cartData").value=JSON.stringify(e),Array.isArray(e)&&e.length>0){cartContainer.style.display="grid",errorCart.style.display="none";const t=e[0],r=cartPopup.querySelector(".cart_img img"),n=cartPopup.querySelector(".title_cart"),o=cartPopup.querySelector(".color_text"),c=cartPopup.querySelector(".color_circle"),l=cartPopup.querySelector(".size"),a=cartPopup.querySelector(".price");r.src=t.img,r.alt=t.head,n.innerText=t.head,o.innerText=t.colorName,null!=t.color&&(c.style.backgroundColor=`${t.color}`),null!=t.size&&(l.innerText=`Розмір: ${t.size}`),a.innerText=t.price}else errorCart.style.display="flex"}document.querySelector("#orderWebsiteURL").value=window.location,document.querySelector("#orderWebsiteURL1").value=window.location,document.querySelector("#orderWebsiteURL2").value=window.location;const cartBtn=document.querySelector(".cart"),deleteCta=document.querySelector(".delete_cta"),cancelCart=document.querySelector(".cancel_cart");cartBtn.addEventListener("click",(function(e){e.preventDefault(),openCart()})),cancelCart.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),darkBg.addEventListener("click",(function(e){e.preventDefault(),cartPopup.style.display="none",darkBg.style.display="none"})),deleteCta.addEventListener("click",(function(e){e.preventDefault(),localStorage.removeItem("cart"),errorCart.style.display="flex",cartContainer.style.display="none"}));const inputField=document.querySelectorAll("name"),maxLength=30,minLength=3,phoneInput=document.querySelectorAll(".phoneInput"),errorName=document.querySelectorAll(".error-name"),errorTel=document.querySelectorAll(".error-tel");function validateForm(e){const t=e.querySelector("input[name='userPhone']").value.trim();if(!t||!isValidPhoneNumber(t)||t.length<13)return errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})),!1;const r=e.querySelectorAll("input[name='userName']");for(const e of r){const t=e.value.trim();if(t.length<3)return errorName.forEach((e=>{e.innerText="Мінімальна кількість символів для імені: 3"})),!1;if(t.length>30)return errorName.forEach((e=>{e.innerText="Максимальна кількість символів для імені: 30"})),!1}return!0}function isValidPhoneNumber(e){return/^\+?(\d{2})?([(]?\d{3}[)]?)\s?[-]?\s?(?:\d{3})\s?[-]?(?:\s?\d{2})\s?[-]?(?:\s?\d{2})$/.test(e)}phoneInput.forEach((e=>{e.addEventListener("input",(function(){let t=e.value.trim();const r="+380";t.startsWith(r)||(t=r+t);let n=t.replace(/[^\d+]/g,"");n.length>13&&(n=n.slice(0,13));isValidPhoneNumber(n)&&13===n.length?(e.style.borderColor="green",e.style.color="#121212",errorTel.forEach((e=>{e.innerText=""}))):(e.style.borderColor="#EB4242",e.style.color="#EB4242",errorTel.forEach((e=>{e.innerText="Введіть коректний номер телефону"})))}))})),document.querySelectorAll("form[action='sendorder.php'], form[action='senddata.php'], form[action='sendcontact.php']").forEach((e=>{e.addEventListener("submit",(t=>{validateForm(e)||t.preventDefault()}))}));const inputMasks=document.querySelectorAll(".inputMask");inputMasks.forEach((function(e){e.addEventListener("click",(function(){e.value||(e.value="+380")})),e.addEventListener("input",(function(){let t=e.value.replace(/[^\d+]/g,"");e.value=t,t.length>13&&(e.value=t.slice(0,13)),t.startsWith("+380")||(e.value="+380"+t.slice(3))}))}));
document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".content-slider");if(document.querySelector(".content-slider h3")){let v=[...document.querySelectorAll(".content-slider h3")],y=v[0].offsetWidth,f=!1;function t(){for(;e.firstChild;)e.removeChild(e.firstChild);for(let t=0;t<v.length;t++){const n=v[t].cloneNode(!0);e.appendChild(n)}}t(),function(){let n=0;setInterval((()=>{f||(f=!0,n-=1,e.style.transition="none",e.style.transform=`translateX(${n}px)`,Math.abs(n)>=y+37&&(n=0,t()),f=!1)}),20)}(),window.addEventListener("resize",(()=>{t()}))}if(document.querySelector(".slider-images-1")&&document.querySelector(".slider-images-2")){const g=document.querySelectorAll(".slider-images-1 img"),p=document.querySelectorAll(".slider-images-2 img");let L=0,S=0;g.length>0&&g[0].classList.add("active"),p.length>0&&p[0].classList.add("active"),setInterval((()=>{g.length>0&&(g[L].classList.remove("active"),L=(L+1)%g.length,g[L].classList.add("active")),p.length>0&&(p[S].classList.remove("active"),S=(S+1)%p.length,p[S].classList.add("active"))}),3e3)}if(document.querySelector(".burger")){const E=document.querySelector(".dark-bgc"),h=document.querySelector(".burger"),q=document.querySelector(".nav"),b=document.querySelector(".cancel"),k=q.querySelectorAll("a");function n(){q.style.left="-100%",E.style.display="none"}h.addEventListener("click",(function(){q.style.left="0",E.style.display="block"})),k.forEach((e=>{e.addEventListener("click",n)})),b.addEventListener("click",(function(e){e.preventDefault(),n()})),E.addEventListener("click",n)}!function(e,t,n){e.forEach((e=>{e.addEventListener("click",(function(c){c.preventDefault();e.nextElementSibling.classList.toggle(t),e.classList.toggle(n)}))}))}(document.querySelectorAll(".readmore"),"visible","readmore-active");const c=document.querySelectorAll(".nav a "),l=document.querySelectorAll(".description-more");let i=null;function o(){l.forEach((e=>e.classList.remove("visible")))}function r(){c.forEach((e=>e.classList.remove("visible")))}c.forEach((e=>{e.addEventListener("click",(function(t){const n=e.getAttribute("data-target");o(),r();const c=document.getElementById(n);c&&(i&&i.previousElementSibling&&i.previousElementSibling.classList.remove("readmore-active"),c.classList.add("visible"),c.previousElementSibling&&c.previousElementSibling.classList.add("readmore-active"),i=c)}))})),o(),r();const s=document.querySelectorAll(".spivpracia_btn"),d=document.querySelector(".spivpracia_popup"),a=document.querySelector(".cancel_spivpracia"),u=document.querySelector(".dark-bgc");function m(e){e.preventDefault(),d.style.display="none",u.style.display="none"}if(s.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),d.style.display="block",u.style.display="block"}))})),a.addEventListener("click",m),u.addEventListener("click",m),document.querySelector("video")&&window.innerWidth<1024){const A=document.querySelectorAll("video");document.addEventListener("click",(function e(){A.forEach((e=>{e.play()})),document.removeEventListener("click",e)}))}}));